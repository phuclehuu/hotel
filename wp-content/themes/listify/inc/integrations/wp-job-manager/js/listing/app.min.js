(function(){var a=function(a,b){return function(){return a.apply(b,arguments)}};wp.listify=wp.listify||{},wp.listify.listing={};var b;b=function(){function a(){if(this.options=listifySingleMap,this.canvas="listing-contact-map",document.getElementById(this.canvas))return"googlemaps"===this.options.provider?this.setupGoogleMaps():"mapbox"===this.options.provider?this.setupMapBox():void 0}return a.prototype.setupGoogleMaps=function(){this.latlng=new google.maps.LatLng(this.options.lat,this.options.lng),this.map=new google.maps.Map(document.getElementById(this.canvas),{zoom:parseInt(this.options.mapOptions.zoom),center:this.latlng,scrollwheel:!1,styles:this.options.mapOptions.styles,streetViewControl:!1}),this.map.setOptions({styles:[{featureType:"poi",stylers:[{visibility:"off"}]}]}),this.marker=new RichMarker({position:this.latlng,flat:!0,draggable:!1,content:'<div class="map-marker marker-color-'+this.options.term+" type-"+this.options.term+'"><i class="'+this.options.icon+'"></i></div>'}),this.marker.setMap(this.map)},a.prototype.setupMapBox=function(){this.map=L.map(this.canvas).setView([this.options.lat,this.options.lng],parseInt(this.options.mapOptions.zoom)),L.tileLayer(this.options.mapOptions.mapboxTileUrl,{attribution:'Map data &copy; <a href="https://openstreetmap.org">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery &copy; <a href="https://mapbox.com">Mapbox</a>',maxZoom:this.options.mapOptions.maxZoom}).addTo(this.map),this.markerTemplate=wp.template("pinTemplate"),this.markerTemplateData={mapMarker:{term:this.options.term,icon:this.options.icon},status:{featured:!1}},this.markerIcon=L.divIcon({iconSize:[30,45],iconAnchor:[15,45],className:"",html:this.markerTemplate(this.markerTemplateData)}),this.marker=L.marker([this.options.lat,this.options.lng],{icon:this.markerIcon}).addTo(this.map)},a}(),wp.listify.listing.map=function(){return new b},wp.listify.listing.map(),jQuery(function(b){return new(function(){function c(){this.options=listifyListingComments,this.toggleStars=a(this.toggleStars,this),this.bindActions=a(this.bindActions,this),b(".form-submit").append(b("<input />").attr({type:"hidden",id:"comment_rating",name:"comment_rating",value:this.options.defaultRating})),this.bindActions()}return c.prototype.bindActions=function(){return b(".comment-sorting-filter").on("change",function(a){return b(this).closest("form").submit()}),b(".comment-form-rating.comment-form-rating--listify .star").on("click",function(a){return function(b){return b.preventDefault(),a.toggleStars(b.target)}}(this))},c.prototype.toggleStars=function(a){var c;return b(".comment-form-rating.comment-form-rating--listify .star").removeClass("active"),a=b(a),a.addClass("active"),c=a.data("rating"),b("#comment_rating").val(c)},c}())}),jQuery(function(b){var c;return c=function(){function c(){this.slick=a(this.slick,this),this.gallery=a(this.gallery,this),this.cover=a(this.cover,this),this.slick(),this.gallery(),this.cover()}return c.prototype.cover=function(){var a;if(b(".single-job_listing-cover-gallery").outerHeight(),a=b(".single-job_listing-cover-gallery-slick:not(.slick-initialized)"),0!==a.length)return a.on("lazyLoaded",function(b){return a.fadeIn(1e3),a.slick("setPosition")}),a.slick({variableWidth:!0,centerMode:!0,slidestoShow:1,dots:!0,infinite:!0,lazyLoad:"ondemand",rtl:"1"===listifySettings.is_rtl})},c.prototype.gallery=function(){var a,c;if(0!==(c=b("#job_preview").length||b(".no-gallery-comments").length))return a={tClose:listifySettings.l10n.magnific.tClose,tLoading:listifySettings.l10n.magnific.tLoading,gallery:{enabled:!0,preload:[1,1]}},c?a.type="image":(a.type="ajax",a.ajax={tError:listifySettings.l10n.magnific.tError,settings:{type:"GET",data:{view:"singular"}}},a.callbacks={open:function(){return b("body").addClass("gallery-overlay")},close:function(){return b("body").removeClass("gallery-overlay")},lazyLoad:function(a){return b(a.el).data("src")},parseAjax:function(a){return a.data=b(a.data).find("#main")}}),b(".listing-gallery__item-trigger").magnificPopup(a)},c.prototype.slick=function(){return b(".listing-gallery").slick({slidesToShow:1,slidesToScroll:1,arrows:!1,fade:!0,adaptiveHeight:!0,asNavFor:".listing-gallery-nav",rtl:"1"===listifySettings.is_rtl}),b(".listing-gallery-nav").slick({slidesToShow:7,slidesToScroll:1,asNavFor:".listing-gallery",dots:!0,arrows:!1,focusOnSelect:!0,infininte:!0,rtl:listifySettings.is_rlt,responsive:[{breakpoint:1200,settings:{slidesToShow:5}}]})},c}(),wp.listify.listing.gallerySlider=function(){return new c},wp.listify.listing.gallerySlider()}),jQuery(function(b){return new(function(){function c(){this.find=a(this.find,this),this.bindActions=a(this.bindActions,this),this.$directionsLocate=b("#get-directions-locate-me"),this.$directionsSAddr=b("#get-directions-start"),this.bindActions()}return c.prototype.bindActions=function(){var a;return a=this,b("#get-directions").on("click",function(a){return function(a){return a.preventDefault(),b("#get-directions-form").toggle()}}()),this.$directionsLocate.on("click",function(b){return function(b){return b.preventDefault(),a.$directionsLocate.addClass("loading"),a.find()}}())},c.prototype.find=function(){var a,b,c;if(b=this,navigator.geolocation)return c=function(a){var c,d;return a.coords&&(d=new google.maps.LatLng(a.coords.latitude,a.coords.longitude),c=new google.maps.Geocoder,c.geocode({location:d},function(a){return b.$directionsSAddr.val(a[0].formatted_address)})),b.$directionsLocate.removeClass("loading")},a=function(){return b.$directionsLocate.removeClass("loading")},navigator.geolocation.getCurrentPosition(c,a)},c}())})}).call(this);